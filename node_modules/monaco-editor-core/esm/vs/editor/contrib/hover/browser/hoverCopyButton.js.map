{"version":3,"sources":["vs/editor/contrib/hover/browser/hoverCopyButton.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,EAAE,UAAU,EAAE,MAAM,sCAAsC,CAAC;AAClE,OAAO,EAAE,iBAAiB,EAAE,MAAM,2DAA2D,CAAC;AAC9F,OAAO,EAAE,aAAa,EAAE,MAAM,6CAA6C,CAAC;AAC5E,OAAO,EAAE,QAAQ,EAAE,MAAM,oBAAoB,CAAC;AAC9C,OAAO,EAAE,OAAO,EAAE,MAAM,qCAAqC,CAAC;AAC9D,OAAO,EAAE,YAAY,EAAE,MAAM,kCAAkC,CAAC;AAChE,OAAO,EAAE,MAAM,EAAE,MAAM,0CAA0C,CAAC;AAElE;;GAEG;AACI,IAAM,eAAe,GAArB,MAAM,eAAgB,SAAQ,UAAU;IAI9C,YACkB,UAAuB,EACvB,WAAyB,EACN,iBAAoC,EACxC,aAA4B;QAE5D,KAAK,EAAE,CAAC;QALS,eAAU,GAAV,UAAU,CAAa;QACvB,gBAAW,GAAX,WAAW,CAAc;QACN,sBAAiB,GAAjB,iBAAiB,CAAmB;QACxC,kBAAa,GAAb,aAAa,CAAe;QAI5D,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;QAErD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,YAAY,CAAC;YAC9C,KAAK,EAAE,QAAQ,CAAC,IAAY,EAAE,MAAM,CAAC;YACrC,IAAI,EAAE,OAAO,CAAC,IAAI;YAClB,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE;YACpC,SAAS,EAAE,mBAAmB;SAC9B,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;QAExB,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IACnD,CAAC;IAEO,KAAK,CAAC,YAAY;QACzB,MAAM,OAAO,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QACnC,IAAI,OAAO,EAAE,CAAC;YACb,MAAM,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;YAChD,MAAM,CAAC,QAAQ,CAAC,IAAc,EAAE,qBAAqB,CAAC,CAAC,CAAC;QACzD,CAAC;IACF,CAAC;CACD,CAAA;AA/BY,eAAe;IAOzB,WAAA,iBAAiB,CAAA;IACjB,WAAA,aAAa,CAAA;GARH,eAAe,CA+B3B","file":"hoverCopyButton.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { IClipboardService } from '../../../../platform/clipboard/common/clipboardService.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { localize } from '../../../../nls.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { SimpleButton } from '../../find/browser/findWidget.js';\nimport { status } from '../../../../base/browser/ui/aria/aria.js';\n\n/**\n * A button that appears in hover parts to copy their content to the clipboard.\n */\nexport class HoverCopyButton extends Disposable {\n\n\tprivate readonly _button: SimpleButton;\n\n\tconstructor(\n\t\tprivate readonly _container: HTMLElement,\n\t\tprivate readonly _getContent: () => string,\n\t\t@IClipboardService private readonly _clipboardService: IClipboardService,\n\t\t@IHoverService private readonly _hoverService: IHoverService,\n\t) {\n\t\tsuper();\n\n\t\tthis._container.classList.add('hover-row-with-copy');\n\n\t\tthis._button = this._register(new SimpleButton({\n\t\t\tlabel: localize('hover.copy', \"Copy\"),\n\t\t\ticon: Codicon.copy,\n\t\t\tonTrigger: () => this._copyContent(),\n\t\t\tclassName: 'hover-copy-button',\n\t\t}, this._hoverService));\n\n\t\tthis._container.appendChild(this._button.domNode);\n\t}\n\n\tprivate async _copyContent(): Promise<void> {\n\t\tconst content = this._getContent();\n\t\tif (content) {\n\t\t\tawait this._clipboardService.writeText(content);\n\t\t\tstatus(localize('hover.copied', \"Copied to clipboard\"));\n\t\t}\n\t}\n}\n"]}