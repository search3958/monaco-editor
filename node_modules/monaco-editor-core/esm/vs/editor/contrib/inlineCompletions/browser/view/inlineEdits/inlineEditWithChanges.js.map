{"version":3,"sources":["file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/inlineCompletions/browser/view/inlineEdits/inlineEditWithChanges.ts","vs/editor/contrib/inlineCompletions/browser/view/inlineEdits/inlineEditWithChanges.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,eAAe,EAAE,MAAM,8CAA8C,CAAC;AAG/E,OAAO,EAAE,SAAS,EAAE,MAAM,gDAAgD,CAAC;AAK3E,MAAM,OAAO,qBAAqB;IACjC,sDAAsD;IACtD,IAAW,QAAQ;QAClB,IAAI,IAAI,CAAC,MAAM,EAAE,IAAI,KAAK,QAAQ,EAAE,CAAC;YACpC,OAAO,IAAI,eAAe,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QACxF,CAAC;aAAM,IAAI,IAAI,CAAC,MAAM,EAAE,IAAI,KAAK,MAAM,EAAE,CAAC;YACzC,OAAO,eAAe,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAK,CAAC,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC3G,CAAC;QAED,OAAO,IAAI,eAAe,CAAC,IAAI,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IACrD,CAAC;IAED,IAAW,iBAAiB,KAAgB,OAAO,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;IAC7E,IAAW,iBAAiB,KAAgB,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAEtG,IAAW,YAAY;QACtB,OAAO,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS,CAC3C,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAC1B,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,eAAe,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,CACzF,CACA,CAAC;IACJ,CAAC;IAED,YACiB,YAAqC,EACrC,MAA0C,EAC1C,IAA0B,EAC1B,cAAwB,EACxB,oBAAyC,EACzC,QAA4C,EAC5C,gBAAsC;QANtC,iBAAY,GAAZ,YAAY,CAAyB;QACrC,WAAM,GAAN,MAAM,CAAoC;QAC1C,SAAI,GAAJ,IAAI,CAAsB;QAC1B,mBAAc,GAAd,cAAc,CAAU;QACxB,yBAAoB,GAApB,oBAAoB,CAAqB;QACzC,aAAQ,GAAR,QAAQ,CAAoC;QAC5C,qBAAgB,GAAhB,gBAAgB,CAAsB;IAEvD,CAAC;CACD","file":"inlineEditWithChanges.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { LineReplacement } from '../../../../../common/core/edits/lineEdit.js';\nimport { TextEdit } from '../../../../../common/core/edits/textEdit.js';\nimport { Position } from '../../../../../common/core/position.js';\nimport { LineRange } from '../../../../../common/core/ranges/lineRange.js';\nimport { InlineCompletionCommand } from '../../../../../common/languages.js';\nimport { InlineSuggestionAction, InlineSuggestionItem } from '../../model/inlineSuggestionItem.js';\nimport { TextModelValueReference } from '../../model/textModelValueReference.js';\n\nexport class InlineEditWithChanges {\n\t// TODO@hediet: Move the next 3 fields into the action\n\tpublic get lineEdit(): LineReplacement {\n\t\tif (this.action?.kind === 'jumpTo') {\n\t\t\treturn new LineReplacement(LineRange.ofLength(this.action.position.lineNumber, 0), []);\n\t\t} else if (this.action?.kind === 'edit') {\n\t\t\treturn LineReplacement.fromSingleTextEdit(this.edit!.toReplacement(this.originalText), this.originalText);\n\t\t}\n\n\t\treturn new LineReplacement(new LineRange(1, 1), []);\n\t}\n\n\tpublic get originalLineRange(): LineRange { return this.lineEdit.lineRange; }\n\tpublic get modifiedLineRange(): LineRange { return this.lineEdit.toLineEdit().getNewLineRanges()[0]; }\n\n\tpublic get displayRange(): LineRange {\n\t\treturn this.originalText.lineRange.intersect(\n\t\t\tthis.originalLineRange.join(\n\t\t\t\tLineRange.ofLength(this.originalLineRange.startLineNumber, this.lineEdit.newLines.length)\n\t\t\t)\n\t\t)!;\n\t}\n\n\tconstructor(\n\t\tpublic readonly originalText: TextModelValueReference,\n\t\tpublic readonly action: InlineSuggestionAction | undefined,\n\t\tpublic readonly edit: TextEdit | undefined,\n\t\tpublic readonly cursorPosition: Position,\n\t\tpublic readonly multiCursorPositions: readonly Position[],\n\t\tpublic readonly commands: readonly InlineCompletionCommand[],\n\t\tpublic readonly inlineCompletion: InlineSuggestionItem,\n\t) {\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { LineReplacement } from '../../../../../common/core/edits/lineEdit.js';\nimport { TextEdit } from '../../../../../common/core/edits/textEdit.js';\nimport { Position } from '../../../../../common/core/position.js';\nimport { LineRange } from '../../../../../common/core/ranges/lineRange.js';\nimport { InlineCompletionCommand } from '../../../../../common/languages.js';\nimport { InlineSuggestionAction, InlineSuggestionItem } from '../../model/inlineSuggestionItem.js';\nimport { TextModelValueReference } from '../../model/textModelValueReference.js';\n\nexport class InlineEditWithChanges {\n\t// TODO@hediet: Move the next 3 fields into the action\n\tpublic get lineEdit(): LineReplacement {\n\t\tif (this.action?.kind === 'jumpTo') {\n\t\t\treturn new LineReplacement(LineRange.ofLength(this.action.position.lineNumber, 0), []);\n\t\t} else if (this.action?.kind === 'edit') {\n\t\t\treturn LineReplacement.fromSingleTextEdit(this.edit!.toReplacement(this.originalText), this.originalText);\n\t\t}\n\n\t\treturn new LineReplacement(new LineRange(1, 1), []);\n\t}\n\n\tpublic get originalLineRange(): LineRange { return this.lineEdit.lineRange; }\n\tpublic get modifiedLineRange(): LineRange { return this.lineEdit.toLineEdit().getNewLineRanges()[0]; }\n\n\tpublic get displayRange(): LineRange {\n\t\treturn this.originalText.lineRange.intersect(\n\t\t\tthis.originalLineRange.join(\n\t\t\t\tLineRange.ofLength(this.originalLineRange.startLineNumber, this.lineEdit.newLines.length)\n\t\t\t)\n\t\t)!;\n\t}\n\n\tconstructor(\n\t\tpublic readonly originalText: TextModelValueReference,\n\t\tpublic readonly action: InlineSuggestionAction | undefined,\n\t\tpublic readonly edit: TextEdit | undefined,\n\t\tpublic readonly cursorPosition: Position,\n\t\tpublic readonly multiCursorPositions: readonly Position[],\n\t\tpublic readonly commands: readonly InlineCompletionCommand[],\n\t\tpublic readonly inlineCompletion: InlineSuggestionItem,\n\t) {\n\t}\n}\n"]}