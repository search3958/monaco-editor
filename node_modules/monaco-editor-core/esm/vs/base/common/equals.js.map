{"version":3,"sources":["file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/base/common/equals.ts","vs/base/common/equals.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,KAAK,MAAM,MAAM,aAAa,CAAC;AAiBtC;;EAEE;AACF,MAAM,UAAU,YAAY,CAAI,CAAI,EAAE,CAAI;IACzC,OAAO,CAAC,KAAK,CAAC,CAAC;AAChB,CAAC;AAED,MAAM,UAAU,aAAa;IAC5B,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;AAC1B,CAAC;AAED;;;GAGG;AACH,MAAM,UAAU,WAAW,CAAI,CAAe,EAAE,CAAe,EAAE,UAAgC;IAChG,OAAO,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,IAAI,YAAY,CAAC,CAAC;AACxD,CAAC;AAED;;;GAGG;AACH,MAAM,UAAU,YAAY,CAAI,UAAgC;IAC/D,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,IAAI,YAAY,CAAC,CAAC;AAClE,CAAC;AAED;;EAEE;AACF,MAAM,UAAU,gBAAgB,CAAI,CAAI,EAAE,CAAI;IAC7C,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;QACb,OAAO,IAAI,CAAC;IACb,CAAC;IAED,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC;QAC1C,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,MAAM,EAAE,CAAC;YAC3B,OAAO,KAAK,CAAC;QACd,CAAC;QACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACnC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;gBACnC,OAAO,KAAK,CAAC;YACd,CAAC;QACF,CAAC;QACD,OAAO,IAAI,CAAC;IACb,CAAC;IAED,IAAI,CAAC,IAAI,OAAO,CAAC,KAAK,QAAQ,IAAI,CAAC,IAAI,OAAO,CAAC,KAAK,QAAQ,EAAE,CAAC;QAC9D,IAAI,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC,SAAS,IAAI,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC,SAAS,EAAE,CAAC;YACpG,MAAM,IAAI,GAAG,CAA4B,CAAC;YAC1C,MAAM,IAAI,GAAG,CAA4B,CAAC;YAC1C,MAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAChC,MAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAChC,MAAM,QAAQ,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC;YAEhC,IAAI,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,EAAE,CAAC;gBACnC,OAAO,KAAK,CAAC;YACd,CAAC;YAED,KAAK,MAAM,GAAG,IAAI,KAAK,EAAE,CAAC;gBACzB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC;oBACxB,OAAO,KAAK,CAAC;gBACd,CAAC;gBACD,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;oBAC7C,OAAO,KAAK,CAAC;gBACd,CAAC;YACF,CAAC;YAED,OAAO,IAAI,CAAC;QACb,CAAC;IACF,CAAC;IAED,OAAO,KAAK,CAAC;AACd,CAAC;AAED,MAAM,UAAU,iBAAiB;IAChC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,gBAAgB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACzC,CAAC;AACD,MAAM,MAAM,GAAG,IAAI,OAAO,EAAkB,CAAC;AAG7C;;EAEE;AACF,MAAM,UAAU,mBAAmB,CAAI,CAAI,EAAE,CAAI;IAChD,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AAChD,CAAC;AAED;;EAEE;AACF,MAAM,UAAU,oBAAoB;IACnC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AAC1D,CAAC;AAED;;GAEG;AACH,MAAM,UAAU,WAAW;IAC1B,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAC9B,CAAC;AAED;;EAEE;AACF,MAAM,UAAU,eAAe,CAAI,EAAwB,EAAE,EAAwB,EAAE,MAA2B;IACjH,IAAI,EAAE,KAAK,SAAS,IAAI,EAAE,KAAK,IAAI,IAAI,EAAE,KAAK,SAAS,IAAI,EAAE,KAAK,IAAI,EAAE,CAAC;QACxE,OAAO,EAAE,KAAK,EAAE,CAAC;IAClB,CAAC;IACD,OAAO,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;AACvB,CAAC;AAED;;EAEE;AACF,MAAM,UAAU,gBAAgB,CAAI,MAA2B;IAC9D,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE;QACjB,IAAI,EAAE,KAAK,SAAS,IAAI,EAAE,KAAK,IAAI,IAAI,EAAE,KAAK,SAAS,IAAI,EAAE,KAAK,IAAI,EAAE,CAAC;YACxE,OAAO,EAAE,KAAK,EAAE,CAAC;QAClB,CAAC;QACD,OAAO,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IACvB,CAAC,CAAC;AACH,CAAC;AAED;;;;;EAKE;AACF,MAAM,KAAW,MAAM,CAiBtB;AAjBD,WAAiB,MAAM;IACT,aAAM,GAAG,YAAY,CAAC;IACtB,cAAO,GAAG,aAAa,CAAC;IAExB,YAAK,GAAG,WAAW,CAAC;IACpB,aAAM,GAAG,YAAY,CAAC;IAEtB,iBAAU,GAAG,gBAAgB,CAAC;IAC9B,kBAAW,GAAG,iBAAiB,CAAC;IAEhC,oBAAa,GAAG,mBAAmB,CAAC;IACpC,qBAAc,GAAG,oBAAoB,CAAC;IAEtC,YAAK,GAAG,WAAW,CAAC;IAEpB,gBAAS,GAAG,eAAe,CAAC;IAC5B,iBAAU,GAAG,gBAAgB,CAAC;AAC5C,CAAC,EAjBgB,MAAM,KAAN,MAAM,QAiBtB","file":"equals.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as arrays from './arrays.js';\n\n/*\n * Each function in this file which offers an equality comparison, has an accompanying\n * `*C` variant which returns an EqualityComparer function.\n *\n * The `*C` variant allows for easier composition of equality comparers and improved type-inference.\n*/\n\n\n/** Represents a function that decides if two values are equal. */\nexport type EqualityComparer<T> = (a: T, b: T) => boolean;\n\nexport interface IEquatable<T> {\n\tequals(other: T): boolean;\n}\n\n/**\n * Compares two items for equality using strict equality.\n*/\nexport function strictEquals<T>(a: T, b: T): boolean {\n\treturn a === b;\n}\n\nexport function strictEqualsC<T>(): EqualityComparer<T> {\n\treturn (a, b) => a === b;\n}\n\n/**\n * Checks if the items of two arrays are equal.\n * By default, strict equality is used to compare elements, but a custom equality comparer can be provided.\n */\nexport function arrayEquals<T>(a: readonly T[], b: readonly T[], itemEquals?: EqualityComparer<T>): boolean {\n\treturn arrays.equals(a, b, itemEquals ?? strictEquals);\n}\n\n/**\n * Checks if the items of two arrays are equal.\n * By default, strict equality is used to compare elements, but a custom equality comparer can be provided.\n */\nexport function arrayEqualsC<T>(itemEquals?: EqualityComparer<T>): EqualityComparer<readonly T[]> {\n\treturn (a, b) => arrays.equals(a, b, itemEquals ?? strictEquals);\n}\n\n/**\n * Drills into arrays (items ordered) and objects (keys unordered) and uses strict equality on everything else.\n*/\nexport function structuralEquals<T>(a: T, b: T): boolean {\n\tif (a === b) {\n\t\treturn true;\n\t}\n\n\tif (Array.isArray(a) && Array.isArray(b)) {\n\t\tif (a.length !== b.length) {\n\t\t\treturn false;\n\t\t}\n\t\tfor (let i = 0; i < a.length; i++) {\n\t\t\tif (!structuralEquals(a[i], b[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tif (a && typeof a === 'object' && b && typeof b === 'object') {\n\t\tif (Object.getPrototypeOf(a) === Object.prototype && Object.getPrototypeOf(b) === Object.prototype) {\n\t\t\tconst aObj = a as Record<string, unknown>;\n\t\t\tconst bObj = b as Record<string, unknown>;\n\t\t\tconst keysA = Object.keys(aObj);\n\t\t\tconst keysB = Object.keys(bObj);\n\t\t\tconst keysBSet = new Set(keysB);\n\n\t\t\tif (keysA.length !== keysB.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tfor (const key of keysA) {\n\t\t\t\tif (!keysBSet.has(key)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (!structuralEquals(aObj[key], bObj[key])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n\nexport function structuralEqualsC<T>(): EqualityComparer<T> {\n\treturn (a, b) => structuralEquals(a, b);\n}\nconst objIds = new WeakMap<object, number>();\n\n\n/**\n * Two items are considered equal, if their stringified representations are equal.\n*/\nexport function jsonStringifyEquals<T>(a: T, b: T): boolean {\n\treturn JSON.stringify(a) === JSON.stringify(b);\n}\n\n/**\n * Two items are considered equal, if their stringified representations are equal.\n*/\nexport function jsonStringifyEqualsC<T>(): EqualityComparer<T> {\n\treturn (a, b) => JSON.stringify(a) === JSON.stringify(b);\n}\n\n/**\n * Uses `item.equals(other)` to determine equality.\n */\nexport function thisEqualsC<T extends IEquatable<T>>(): EqualityComparer<T> {\n\treturn (a, b) => a.equals(b);\n}\n\n/**\n * Checks if two items are both null or undefined, or are equal according to the provided equality comparer.\n*/\nexport function equalsIfDefined<T>(v1: T | undefined | null, v2: T | undefined | null, equals: EqualityComparer<T>): boolean {\n\tif (v1 === undefined || v1 === null || v2 === undefined || v2 === null) {\n\t\treturn v2 === v1;\n\t}\n\treturn equals(v1, v2);\n}\n\n/**\n * Returns an equality comparer that checks if two items are both null or undefined, or are equal according to the provided equality comparer.\n*/\nexport function equalsIfDefinedC<T>(equals: EqualityComparer<T>): EqualityComparer<T | undefined | null> {\n\treturn (v1, v2) => {\n\t\tif (v1 === undefined || v1 === null || v2 === undefined || v2 === null) {\n\t\t\treturn v2 === v1;\n\t\t}\n\t\treturn equals(v1, v2);\n\t};\n}\n\n/**\n * Each function in this file which offers an equality comparison, has an accompanying\n * `*C` variant which returns an EqualityComparer function.\n *\n * The `*C` variant allows for easier composition of equality comparers and improved type-inference.\n*/\nexport namespace equals {\n\texport const strict = strictEquals;\n\texport const strictC = strictEqualsC;\n\n\texport const array = arrayEquals;\n\texport const arrayC = arrayEqualsC;\n\n\texport const structural = structuralEquals;\n\texport const structuralC = structuralEqualsC;\n\n\texport const jsonStringify = jsonStringifyEquals;\n\texport const jsonStringifyC = jsonStringifyEqualsC;\n\n\texport const thisC = thisEqualsC;\n\n\texport const ifDefined = equalsIfDefined;\n\texport const ifDefinedC = equalsIfDefinedC;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as arrays from './arrays.js';\n\n/*\n * Each function in this file which offers an equality comparison, has an accompanying\n * `*C` variant which returns an EqualityComparer function.\n *\n * The `*C` variant allows for easier composition of equality comparers and improved type-inference.\n*/\n\n\n/** Represents a function that decides if two values are equal. */\nexport type EqualityComparer<T> = (a: T, b: T) => boolean;\n\nexport interface IEquatable<T> {\n\tequals(other: T): boolean;\n}\n\n/**\n * Compares two items for equality using strict equality.\n*/\nexport function strictEquals<T>(a: T, b: T): boolean {\n\treturn a === b;\n}\n\nexport function strictEqualsC<T>(): EqualityComparer<T> {\n\treturn (a, b) => a === b;\n}\n\n/**\n * Checks if the items of two arrays are equal.\n * By default, strict equality is used to compare elements, but a custom equality comparer can be provided.\n */\nexport function arrayEquals<T>(a: readonly T[], b: readonly T[], itemEquals?: EqualityComparer<T>): boolean {\n\treturn arrays.equals(a, b, itemEquals ?? strictEquals);\n}\n\n/**\n * Checks if the items of two arrays are equal.\n * By default, strict equality is used to compare elements, but a custom equality comparer can be provided.\n */\nexport function arrayEqualsC<T>(itemEquals?: EqualityComparer<T>): EqualityComparer<readonly T[]> {\n\treturn (a, b) => arrays.equals(a, b, itemEquals ?? strictEquals);\n}\n\n/**\n * Drills into arrays (items ordered) and objects (keys unordered) and uses strict equality on everything else.\n*/\nexport function structuralEquals<T>(a: T, b: T): boolean {\n\tif (a === b) {\n\t\treturn true;\n\t}\n\n\tif (Array.isArray(a) && Array.isArray(b)) {\n\t\tif (a.length !== b.length) {\n\t\t\treturn false;\n\t\t}\n\t\tfor (let i = 0; i < a.length; i++) {\n\t\t\tif (!structuralEquals(a[i], b[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tif (a && typeof a === 'object' && b && typeof b === 'object') {\n\t\tif (Object.getPrototypeOf(a) === Object.prototype && Object.getPrototypeOf(b) === Object.prototype) {\n\t\t\tconst aObj = a as Record<string, unknown>;\n\t\t\tconst bObj = b as Record<string, unknown>;\n\t\t\tconst keysA = Object.keys(aObj);\n\t\t\tconst keysB = Object.keys(bObj);\n\t\t\tconst keysBSet = new Set(keysB);\n\n\t\t\tif (keysA.length !== keysB.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tfor (const key of keysA) {\n\t\t\t\tif (!keysBSet.has(key)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (!structuralEquals(aObj[key], bObj[key])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n\nexport function structuralEqualsC<T>(): EqualityComparer<T> {\n\treturn (a, b) => structuralEquals(a, b);\n}\nconst objIds = new WeakMap<object, number>();\n\n\n/**\n * Two items are considered equal, if their stringified representations are equal.\n*/\nexport function jsonStringifyEquals<T>(a: T, b: T): boolean {\n\treturn JSON.stringify(a) === JSON.stringify(b);\n}\n\n/**\n * Two items are considered equal, if their stringified representations are equal.\n*/\nexport function jsonStringifyEqualsC<T>(): EqualityComparer<T> {\n\treturn (a, b) => JSON.stringify(a) === JSON.stringify(b);\n}\n\n/**\n * Uses `item.equals(other)` to determine equality.\n */\nexport function thisEqualsC<T extends IEquatable<T>>(): EqualityComparer<T> {\n\treturn (a, b) => a.equals(b);\n}\n\n/**\n * Checks if two items are both null or undefined, or are equal according to the provided equality comparer.\n*/\nexport function equalsIfDefined<T>(v1: T | undefined | null, v2: T | undefined | null, equals: EqualityComparer<T>): boolean {\n\tif (v1 === undefined || v1 === null || v2 === undefined || v2 === null) {\n\t\treturn v2 === v1;\n\t}\n\treturn equals(v1, v2);\n}\n\n/**\n * Returns an equality comparer that checks if two items are both null or undefined, or are equal according to the provided equality comparer.\n*/\nexport function equalsIfDefinedC<T>(equals: EqualityComparer<T>): EqualityComparer<T | undefined | null> {\n\treturn (v1, v2) => {\n\t\tif (v1 === undefined || v1 === null || v2 === undefined || v2 === null) {\n\t\t\treturn v2 === v1;\n\t\t}\n\t\treturn equals(v1, v2);\n\t};\n}\n\n/**\n * Each function in this file which offers an equality comparison, has an accompanying\n * `*C` variant which returns an EqualityComparer function.\n *\n * The `*C` variant allows for easier composition of equality comparers and improved type-inference.\n*/\nexport namespace equals {\n\texport const strict = strictEquals;\n\texport const strictC = strictEqualsC;\n\n\texport const array = arrayEquals;\n\texport const arrayC = arrayEqualsC;\n\n\texport const structural = structuralEquals;\n\texport const structuralC = structuralEqualsC;\n\n\texport const jsonStringify = jsonStringifyEquals;\n\texport const jsonStringifyC = jsonStringifyEqualsC;\n\n\texport const thisC = thisEqualsC;\n\n\texport const ifDefined = equalsIfDefined;\n\texport const ifDefinedC = equalsIfDefinedC;\n}\n"]}