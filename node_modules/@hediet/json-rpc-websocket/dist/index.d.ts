import { Message, BaseMessageTransport, EventEmitter } from "@hediet/json-rpc";
export * from "@hediet/json-rpc";
export type NormalizedWebSocketOptions = {
    address: string;
};
export type WebSocketOptions = NormalizedWebSocketOptions | {
    host: string;
    port: number;
    forceTls?: boolean;
};
/**
 * Normalizes the given options to `NormalizedWebSocketOptions`.
 * It builds the address from a given host and port.
 */
export declare function normalizeWebSocketOptions(options: WebSocketOptions): NormalizedWebSocketOptions;
/**
 * Represents a stream through a web socket.
 * Use the static `connectTo` method to get a stream to a web socket server.
 */
export declare class WebSocketTransport extends BaseMessageTransport {
    private readonly socket;
    static connectTo(options: WebSocketOptions): Promise<WebSocketTransport>;
    static fromWebSocket(socket: unknown): WebSocketTransport;
    private readonly errorEmitter;
    readonly onError: EventEmitter<{
        error: unknown;
    }>;
    private constructor();
    /**
     * Closes the underlying socket.
     */
    close(): void;
    /**
     * Same as `close`.
     */
    dispose(): void;
    _sendImpl(message: Message): Promise<void>;
    toString(): string;
}
//# sourceMappingURL=index.d.ts.map