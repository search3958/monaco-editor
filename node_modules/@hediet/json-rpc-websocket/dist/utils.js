export class Deferred {
    _state = "none";
    promise;
    resolve = () => { };
    reject = () => { };
    constructor() {
        this.promise = new Promise((resolve, reject) => {
            this.resolve = resolve;
            this.reject = reject;
        });
    }
    get state() {
        return this._state;
    }
}
export class Barrier {
    deferred = new Deferred();
    unlock = this.deferred.resolve;
    reject = this.deferred.reject;
    onUnlocked = this.deferred.promise;
    constructor() { }
    get state() {
        return this.deferred.state;
    }
}
//# sourceMappingURL=utils.js.map