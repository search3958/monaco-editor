import { BaseMessageTransport, Message } from "@hediet/json-rpc";
export interface WindowLike {
    postMessage(data: any, ...misc: any[]): void;
    addEventListener(eventName: "message", handler: MessageEventListener): void;
    removeEventListener(eventName: "message", handler: MessageEventListener): void;
}
export type MessageEventListener = (ev: {
    data: any;
    source: WindowLike | undefined;
}) => void;
export declare class WindowLikeTransport extends BaseMessageTransport {
    private readonly _windowLike;
    private readonly _source;
    private readonly _loadingState;
    private _disposed;
    constructor(_windowLike: WindowLike, _source?: WindowLike | undefined, _loadingState?: {
        loaded: boolean;
        onLoaded: Promise<void>;
    } | undefined);
    private readonly _messageHandler;
    protected _sendImpl(message: Message): Promise<void>;
    toString(): string;
    dispose(): void;
}
//# sourceMappingURL=WindowLikeStream.d.ts.map